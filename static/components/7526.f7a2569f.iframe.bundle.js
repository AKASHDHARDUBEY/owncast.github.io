"use strict";(self.webpackChunkowncast_admin=self.webpackChunkowncast_admin||[]).push([[7526],{"./node_modules/mermaid/dist/ganttDiagram-3bc7fa50.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{diagram:()=>diagram});var dist=__webpack_require__("./node_modules/@braintree/sanitize-url/dist/index.js"),esm=__webpack_require__("./node_modules/dayjs/esm/index.js"),constant=__webpack_require__("./node_modules/dayjs/esm/constant.js");var englishFormats={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},formattingTokens=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,match2=/\d\d/,match1to2=/\d\d?/,matchWord=/\d*[^-_:/,()\s\d]+/,locale={},parseTwoDigitYear=function parseTwoDigitYear(input){return(input=+input)+(input>68?1900:2e3)};var addInput=function addInput(property){return function(input){this[property]=+input}},zoneExpressions=[/[+-]\d\d:?(\d\d)?|Z/,function(input){(this.zone||(this.zone={})).offset=function offsetFromString(string){if(!string)return 0;if("Z"===string)return 0;var parts=string.match(/([+-]|\d\d)/g),minutes=60*parts[1]+(+parts[2]||0);return 0===minutes?0:"+"===parts[0]?-minutes:minutes}(input)}],getLocalePart=function getLocalePart(name){var part=locale[name];return part&&(part.indexOf?part:part.s.concat(part.f))},meridiemMatch=function meridiemMatch(input,isLowerCase){var isAfternoon,meridiem=locale.meridiem;if(meridiem){for(var i=1;i<=24;i+=1)if(input.indexOf(meridiem(i,0,isLowerCase))>-1){isAfternoon=i>12;break}}else isAfternoon=input===(isLowerCase?"pm":"PM");return isAfternoon},expressions={A:[matchWord,function(input){this.afternoon=meridiemMatch(input,!1)}],a:[matchWord,function(input){this.afternoon=meridiemMatch(input,!0)}],S:[/\d/,function(input){this.milliseconds=100*+input}],SS:[match2,function(input){this.milliseconds=10*+input}],SSS:[/\d{3}/,function(input){this.milliseconds=+input}],s:[match1to2,addInput("seconds")],ss:[match1to2,addInput("seconds")],m:[match1to2,addInput("minutes")],mm:[match1to2,addInput("minutes")],H:[match1to2,addInput("hours")],h:[match1to2,addInput("hours")],HH:[match1to2,addInput("hours")],hh:[match1to2,addInput("hours")],D:[match1to2,addInput("day")],DD:[match2,addInput("day")],Do:[matchWord,function(input){var ordinal=locale.ordinal,_input$match=input.match(/\d+/);if(this.day=_input$match[0],ordinal)for(var i=1;i<=31;i+=1)ordinal(i).replace(/\[|\]/g,"")===input&&(this.day=i)}],M:[match1to2,addInput("month")],MM:[match2,addInput("month")],MMM:[matchWord,function(input){var months=getLocalePart("months"),matchIndex=(getLocalePart("monthsShort")||months.map((function(_){return _.slice(0,3)}))).indexOf(input)+1;if(matchIndex<1)throw new Error;this.month=matchIndex%12||matchIndex}],MMMM:[matchWord,function(input){var matchIndex=getLocalePart("months").indexOf(input)+1;if(matchIndex<1)throw new Error;this.month=matchIndex%12||matchIndex}],Y:[/[+-]?\d+/,addInput("year")],YY:[match2,function(input){this.year=parseTwoDigitYear(input)}],YYYY:[/\d{4}/,addInput("year")],Z:zoneExpressions,ZZ:zoneExpressions};function makeParser(format){for(var array=(format=function u(formatStr,formats){return formatStr.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(_,a,b){var B=b&&b.toUpperCase();return a||formats[b]||englishFormats[b]||function t(format){return format.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,a,b){return a||b.slice(1)}))}(formats[B])}))}(format,locale&&locale.formats)).match(formattingTokens),length=array.length,i=0;i<length;i+=1){var token=array[i],parseTo=expressions[token],regex=parseTo&&parseTo[0],parser=parseTo&&parseTo[1];array[i]=parser?{regex,parser}:token.replace(/^\[|\]$/g,"")}return function(input){for(var time={},_i=0,start=0;_i<length;_i+=1){var _token=array[_i];if("string"==typeof _token)start+=_token.length;else{var _regex=_token.regex,_parser=_token.parser,part=input.slice(start),value=_regex.exec(part)[0];_parser.call(time,value),input=input.replace(value,"")}}return function correctHours(time){var afternoon=time.afternoon;if(void 0!==afternoon){var hours=time.hours;afternoon?hours<12&&(time.hours+=12):12===hours&&(time.hours=0),delete time.afternoon}}(time),time}}var mermaid_a953d906=__webpack_require__("./node_modules/mermaid/dist/mermaid-a953d906.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),parser=(__webpack_require__("./node_modules/dompurify/dist/purify.js"),function(){var o=function(k,v,o2,l){for(o2=o2||{},l=k.length;l--;o2[k[l]]=v);return o2},$V0=[1,3],$V1=[1,5],$V2=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,18],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,23],$Vc=[1,24],$Vd=[1,25],$Ve=[1,26],$Vf=[1,27],$Vg=[1,29],$Vh=[1,31],$Vi=[1,34],$Vj=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],parser2={trace:function trace(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 2:return $$[$0-1];case 3:case 7:case 8:this.$=[];break;case 4:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 5:case 6:this.$=$$[$0];break;case 9:yy.setDateFormat($$[$0].substr(11)),this.$=$$[$0].substr(11);break;case 10:yy.enableInclusiveEndDates(),this.$=$$[$0].substr(18);break;case 11:yy.TopAxis(),this.$=$$[$0].substr(8);break;case 12:yy.setAxisFormat($$[$0].substr(11)),this.$=$$[$0].substr(11);break;case 13:yy.setTickInterval($$[$0].substr(13)),this.$=$$[$0].substr(13);break;case 14:yy.setExcludes($$[$0].substr(9)),this.$=$$[$0].substr(9);break;case 15:yy.setIncludes($$[$0].substr(9)),this.$=$$[$0].substr(9);break;case 16:yy.setTodayMarker($$[$0].substr(12)),this.$=$$[$0].substr(12);break;case 17:yy.setDiagramTitle($$[$0].substr(6)),this.$=$$[$0].substr(6);break;case 18:this.$=$$[$0].trim(),yy.setAccTitle(this.$);break;case 19:case 20:this.$=$$[$0].trim(),yy.setAccDescription(this.$);break;case 21:yy.addSection($$[$0].substr(8)),this.$=$$[$0].substr(8);break;case 23:yy.addTask($$[$0-1],$$[$0]),this.$="task";break;case 27:this.$=$$[$0-1],yy.setClickEvent($$[$0-1],$$[$0],null);break;case 28:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0-1],$$[$0]);break;case 29:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0-1],null),yy.setLink($$[$0-2],$$[$0]);break;case 30:this.$=$$[$0-3],yy.setClickEvent($$[$0-3],$$[$0-2],$$[$0-1]),yy.setLink($$[$0-3],$$[$0]);break;case 31:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0],null),yy.setLink($$[$0-2],$$[$0-1]);break;case 32:this.$=$$[$0-3],yy.setClickEvent($$[$0-3],$$[$0-1],$$[$0]),yy.setLink($$[$0-3],$$[$0-2]);break;case 33:this.$=$$[$0-1],yy.setLink($$[$0-1],$$[$0]);break;case 34:case 40:this.$=$$[$0-1]+" "+$$[$0];break;case 35:case 36:case 38:this.$=$$[$0-2]+" "+$$[$0-1]+" "+$$[$0];break;case 37:case 39:this.$=$$[$0-3]+" "+$$[$0-2]+" "+$$[$0-1]+" "+$$[$0];break;case 41:yy.parseDirective("%%{","open_directive");break;case 42:yy.parseDirective($$[$0],"type_directive");break;case 43:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 44:yy.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:$V0,30:4,40:$V1},{1:[3]},{3:6,4:2,5:$V0,30:4,40:$V1},o($V2,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:$Vb,21:$Vc,23:$Vd,25:$Ve,26:$Vf,27:28,28:$Vg,30:4,35:$Vh,40:$V1},{32:32,33:[1,33],43:$Vi},o([33,43],[2,42]),o($V2,[2,8],{1:[2,2]}),o($V2,[2,4]),{4:30,10:35,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:$Vb,21:$Vc,23:$Vd,25:$Ve,26:$Vf,27:28,28:$Vg,30:4,35:$Vh,40:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,9]),o($V2,[2,10]),o($V2,[2,11]),o($V2,[2,12]),o($V2,[2,13]),o($V2,[2,14]),o($V2,[2,15]),o($V2,[2,16]),o($V2,[2,17]),{22:[1,36]},{24:[1,37]},o($V2,[2,20]),o($V2,[2,21]),o($V2,[2,22]),{29:[1,38]},o($V2,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},o($V2,[2,5]),o($V2,[2,18]),o($V2,[2,19]),o($V2,[2,23]),o($V2,[2,27],{37:[1,44],38:[1,45]}),o($V2,[2,33],{36:[1,46]}),o($Vj,[2,25]),{32:47,43:$Vi},{43:[2,43]},o($V2,[2,28],{38:[1,48]}),o($V2,[2,29]),o($V2,[2,31],{37:[1,49]}),{11:[1,50]},o($V2,[2,30]),o($V2,[2,32]),o($Vj,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,args=lstack.slice.call(arguments,1),lexer2=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer2.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer2,sharedState.yy.parser=this,void 0===lexer2.yylloc&&(lexer2.yylloc={});var yyloc=lexer2.yylloc;lstack.push(yyloc);var ranges=lexer2.options&&lexer2.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer2.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer2.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer2.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer2.match,token:this.terminals_[symbol]||symbol,line:lexer2.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer2.yytext),lstack.push(lexer2.yylloc),stack.push(action[1]),symbol=null,yyleng=lexer2.yyleng,yytext=lexer2.yytext,yylineno=lexer2.yylineno,yyloc=lexer2.yylloc;break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 38;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 27:return 37;case 28:this.begin("click");break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};function Parser(){this.yy={}}return parser2.lexer=lexer,Parser.prototype=parser2,parser2.Parser=Parser,new Parser}());parser.parser=parser;const ganttParser=parser;esm.Z.extend((function(o,c,d){var getCurrentWeekThursday=function getCurrentWeekThursday(ins){return ins.add(4-ins.isoWeekday(),constant.D)},proto=c.prototype;proto.isoWeekYear=function(){return getCurrentWeekThursday(this).year()},proto.isoWeek=function(week){if(!this.$utils().u(week))return this.add(7*(week-this.isoWeek()),constant.D);var nowWeekThursday=getCurrentWeekThursday(this),diffWeekThursday=function getYearFirstThursday(year,isUtc){var yearFirstDay=(isUtc?d.utc:d)().year(year).startOf(constant.Y),addDiffDays=4-yearFirstDay.isoWeekday();return yearFirstDay.isoWeekday()>4&&(addDiffDays+=7),yearFirstDay.add(addDiffDays,constant.D)}(this.isoWeekYear(),this.$u);return nowWeekThursday.diff(diffWeekThursday,constant.W)+1},proto.isoWeekday=function(week){return this.$utils().u(week)?this.day()||7:this.day(this.day()%7?week:week-7)};var oldStartOf=proto.startOf;proto.startOf=function(units,startOf){var utils=this.$utils(),isStartOf=!!utils.u(startOf)||startOf;return"isoweek"===utils.p(units)?isStartOf?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):oldStartOf.bind(this)(units,startOf)}})),esm.Z.extend((function(o,C,d){d.p.customParseFormat=!0,o&&o.parseTwoDigitYear&&(parseTwoDigitYear=o.parseTwoDigitYear);var proto=C.prototype,oldParse=proto.parse;proto.parse=function(cfg){var date=cfg.date,utc=cfg.utc,args=cfg.args;this.$u=utc;var format=args[1];if("string"==typeof format){var isStrictWithoutLocale=!0===args[2],isStrictWithLocale=!0===args[3],isStrict=isStrictWithoutLocale||isStrictWithLocale,pl=args[2];isStrictWithLocale&&(pl=args[2]),locale=this.$locale(),!isStrictWithoutLocale&&pl&&(locale=d.Ls[pl]),this.$d=function parseFormattedInput(input,format,utc){try{if(["x","X"].indexOf(format)>-1)return new Date(("X"===format?1e3:1)*input);var _parser2=makeParser(format)(input),year=_parser2.year,month=_parser2.month,day=_parser2.day,hours=_parser2.hours,minutes=_parser2.minutes,seconds=_parser2.seconds,milliseconds=_parser2.milliseconds,zone=_parser2.zone,now=new Date,d=day||(year||month?1:now.getDate()),y=year||now.getFullYear(),M=0;year&&!month||(M=month>0?month-1:now.getMonth());var h=hours||0,m=minutes||0,s=seconds||0,ms=milliseconds||0;return zone?new Date(Date.UTC(y,M,d,h,m,s,ms+60*zone.offset*1e3)):utc?new Date(Date.UTC(y,M,d,h,m,s,ms)):new Date(y,M,d,h,m,s,ms)}catch(e){return new Date("")}}(date,format,utc),this.init(),pl&&!0!==pl&&(this.$L=this.locale(pl).$L),isStrict&&date!=this.format(format)&&(this.$d=new Date("")),locale={}}else if(format instanceof Array)for(var len=format.length,i=1;i<=len;i+=1){args[1]=format[i-1];var result=d.apply(this,args);if(result.isValid()){this.$d=result.$d,this.$L=result.$L,this.init();break}i===len&&(this.$d=new Date(""))}else oldParse.call(this,cfg)}})),esm.Z.extend((function(o,c){var proto=c.prototype,oldFormat=proto.format;proto.format=function(formatStr){var _this=this,locale=this.$locale();if(!this.isValid())return oldFormat.bind(this)(formatStr);var utils=this.$utils(),result=(formatStr||constant.r0).replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(match){switch(match){case"Q":return Math.ceil((_this.$M+1)/3);case"Do":return locale.ordinal(_this.$D);case"gggg":return _this.weekYear();case"GGGG":return _this.isoWeekYear();case"wo":return locale.ordinal(_this.week(),"W");case"w":case"ww":return utils.s(_this.week(),"w"===match?1:2,"0");case"W":case"WW":return utils.s(_this.isoWeek(),"W"===match?1:2,"0");case"k":case"kk":return utils.s(String(0===_this.$H?24:_this.$H),"k"===match?1:2,"0");case"X":return Math.floor(_this.$d.getTime()/1e3);case"x":return _this.$d.getTime();case"z":return"["+_this.offsetName()+"]";case"zzz":return"["+_this.offsetName("long")+"]";default:return match}}));return oldFormat.bind(this)(result)}}));let tickInterval,dateFormat="",axisFormat="",todayMarker="",includes=[],excludes=[],links={},sections=[],tasks=[],currentSection="",displayMode="";const tags=["active","done","crit","milestone"];let funs=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0;const isInvalidDate=function(date,dateFormat2,excludes2,includes2){return!includes2.includes(date.format(dateFormat2.trim()))&&(!!(date.isoWeekday()>=6&&excludes2.includes("weekends"))||(!!excludes2.includes(date.format("dddd").toLowerCase())||excludes2.includes(date.format(dateFormat2.trim()))))},checkTaskDates=function(task,dateFormat2,excludes2,includes2){if(!excludes2.length||task.manualEndTime)return;let startTime,originalEndTime;startTime=task.startTime instanceof Date?(0,esm.Z)(task.startTime):(0,esm.Z)(task.startTime,dateFormat2,!0),startTime=startTime.add(1,"d"),originalEndTime=task.endTime instanceof Date?(0,esm.Z)(task.endTime):(0,esm.Z)(task.endTime,dateFormat2,!0);const[fixedEndTime,renderEndTime]=fixTaskDates(startTime,originalEndTime,dateFormat2,excludes2,includes2);task.endTime=fixedEndTime.toDate(),task.renderEndTime=renderEndTime},fixTaskDates=function(startTime,endTime,dateFormat2,excludes2,includes2){let invalid=!1,renderEndTime=null;for(;startTime<=endTime;)invalid||(renderEndTime=endTime.toDate()),invalid=isInvalidDate(startTime,dateFormat2,excludes2,includes2),invalid&&(endTime=endTime.add(1,"d")),startTime=startTime.add(1,"d");return[endTime,renderEndTime]},getStartDate=function(prevTime,dateFormat2,str){str=str.trim();const afterStatement=/^after\s+([\d\w- ]+)/.exec(str.trim());if(null!==afterStatement){let latestEndingTask=null;if(afterStatement[1].split(" ").forEach((function(id){let task=findTaskById(id);void 0!==task&&(latestEndingTask?task.endTime>latestEndingTask.endTime&&(latestEndingTask=task):latestEndingTask=task)})),latestEndingTask)return latestEndingTask.endTime;{const dt=new Date;return dt.setHours(0,0,0,0),dt}}let mDate=(0,esm.Z)(str,dateFormat2.trim(),!0);if(mDate.isValid())return mDate.toDate();{mermaid_a953d906.l.debug("Invalid date:"+str),mermaid_a953d906.l.debug("With date format:"+dateFormat2.trim());const d=new Date(str);if(void 0===d||isNaN(d.getTime())||d.getFullYear()<-1e4||d.getFullYear()>1e4)throw new Error("Invalid date:"+str);return d}},parseDuration=function(str){const statement=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(str.trim());return null!==statement?[Number.parseFloat(statement[1]),statement[2]]:[NaN,"ms"]},getEndDate=function(prevTime,dateFormat2,str,inclusive=!1){str=str.trim();let mDate=(0,esm.Z)(str,dateFormat2.trim(),!0);if(mDate.isValid())return inclusive&&(mDate=mDate.add(1,"d")),mDate.toDate();let endTime=(0,esm.Z)(prevTime);const[durationValue,durationUnit]=parseDuration(str);if(!Number.isNaN(durationValue)){const newEndTime=endTime.add(durationValue,durationUnit);newEndTime.isValid()&&(endTime=newEndTime)}return endTime.toDate()};let taskCnt=0;const parseId=function(idStr){return void 0===idStr?(taskCnt+=1,"task"+taskCnt):idStr};let lastTask,lastTaskID,rawTasks=[];const taskDb={},findTaskById=function(id){const pos=taskDb[id];return rawTasks[pos]},compileTasks=function(){const compileTask=function(pos){const task=rawTasks[pos];let startTime="";switch(rawTasks[pos].raw.startTime.type){case"prevTaskEnd":{const prevTask=findTaskById(task.prevTaskId);task.startTime=prevTask.endTime;break}case"getStartDate":startTime=getStartDate(0,dateFormat,rawTasks[pos].raw.startTime.startData),startTime&&(rawTasks[pos].startTime=startTime)}return rawTasks[pos].startTime&&(rawTasks[pos].endTime=getEndDate(rawTasks[pos].startTime,dateFormat,rawTasks[pos].raw.endTime.data,inclusiveEndDates),rawTasks[pos].endTime&&(rawTasks[pos].processed=!0,rawTasks[pos].manualEndTime=(0,esm.Z)(rawTasks[pos].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks[pos],dateFormat,excludes,includes))),rawTasks[pos].processed};let allProcessed=!0;for(const[i,rawTask]of rawTasks.entries())compileTask(i),allProcessed=allProcessed&&rawTask.processed;return allProcessed},setClass=function(ids,className){ids.split(",").forEach((function(id){let rawTask=findTaskById(id);void 0!==rawTask&&rawTask.classes.push(className)}))},pushFun=function(id,callbackFunction){funs.push((function(){const elem=document.querySelector(`[id="${id}"]`);null!==elem&&elem.addEventListener("click",(function(){callbackFunction()}))}),(function(){const elem=document.querySelector(`[id="${id}-text"]`);null!==elem&&elem.addEventListener("click",(function(){callbackFunction()}))}))},ganttDb={parseDirective:function(statement,context,type){mermaid_a953d906.m.parseDirective(this,statement,context,type)},getConfig:()=>(0,mermaid_a953d906.c)().gantt,clear:function(){sections=[],tasks=[],currentSection="",funs=[],taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks=[],dateFormat="",axisFormat="",displayMode="",tickInterval=void 0,todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={},(0,mermaid_a953d906.v)()},setDateFormat:function(txt){dateFormat=txt},getDateFormat:function(){return dateFormat},enableInclusiveEndDates:function(){inclusiveEndDates=!0},endDatesAreInclusive:function(){return inclusiveEndDates},enableTopAxis:function(){topAxis=!0},topAxisEnabled:function(){return topAxis},setAxisFormat:function(txt){axisFormat=txt},getAxisFormat:function(){return axisFormat},setTickInterval:function(txt){tickInterval=txt},getTickInterval:function(){return tickInterval},setTodayMarker:function(txt){todayMarker=txt},getTodayMarker:function(){return todayMarker},setAccTitle:mermaid_a953d906.s,getAccTitle:mermaid_a953d906.g,setDiagramTitle:mermaid_a953d906.r,getDiagramTitle:mermaid_a953d906.t,setDisplayMode:function(txt){displayMode=txt},getDisplayMode:function(){return displayMode},setAccDescription:mermaid_a953d906.b,getAccDescription:mermaid_a953d906.a,addSection:function(txt){currentSection=txt,sections.push(txt)},getSections:function(){return sections},getTasks:function(){let allItemsProcessed=compileTasks();let iterationCount=0;for(;!allItemsProcessed&&iterationCount<10;)allItemsProcessed=compileTasks(),iterationCount++;return tasks=rawTasks,tasks},addTask:function(descr,data){const rawTask={section:currentSection,type:currentSection,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data},task:descr,classes:[]},taskInfo=function(prevTaskId,dataStr){let ds;ds=":"===dataStr.substr(0,1)?dataStr.substr(1,dataStr.length):dataStr;const data=ds.split(","),task={};getTaskTags(data,task,tags);for(let i=0;i<data.length;i++)data[i]=data[i].trim();switch(data.length){case 1:task.id=parseId(),task.startTime={type:"prevTaskEnd",id:prevTaskId},task.endTime={data:data[0]};break;case 2:task.id=parseId(),task.startTime={type:"getStartDate",startData:data[0]},task.endTime={data:data[1]};break;case 3:task.id=parseId(data[0]),task.startTime={type:"getStartDate",startData:data[1]},task.endTime={data:data[2]}}return task}(lastTaskID,data);rawTask.raw.startTime=taskInfo.startTime,rawTask.raw.endTime=taskInfo.endTime,rawTask.id=taskInfo.id,rawTask.prevTaskId=lastTaskID,rawTask.active=taskInfo.active,rawTask.done=taskInfo.done,rawTask.crit=taskInfo.crit,rawTask.milestone=taskInfo.milestone,rawTask.order=lastOrder,lastOrder++;const pos=rawTasks.push(rawTask);lastTaskID=rawTask.id,taskDb[rawTask.id]=pos-1},findTaskById,addTaskOrg:function(descr,data){const newTask={section:currentSection,type:currentSection,description:descr,task:descr,classes:[]},taskInfo=function(prevTask,dataStr){let ds;ds=":"===dataStr.substr(0,1)?dataStr.substr(1,dataStr.length):dataStr;const data=ds.split(","),task={};getTaskTags(data,task,tags);for(let i=0;i<data.length;i++)data[i]=data[i].trim();let endTimeData="";switch(data.length){case 1:task.id=parseId(),task.startTime=prevTask.endTime,endTimeData=data[0];break;case 2:task.id=parseId(),task.startTime=getStartDate(0,dateFormat,data[0]),endTimeData=data[1];break;case 3:task.id=parseId(data[0]),task.startTime=getStartDate(0,dateFormat,data[1]),endTimeData=data[2]}return endTimeData&&(task.endTime=getEndDate(task.startTime,dateFormat,endTimeData,inclusiveEndDates),task.manualEndTime=(0,esm.Z)(endTimeData,"YYYY-MM-DD",!0).isValid(),checkTaskDates(task,dateFormat,excludes,includes)),task}(lastTask,data);newTask.startTime=taskInfo.startTime,newTask.endTime=taskInfo.endTime,newTask.id=taskInfo.id,newTask.active=taskInfo.active,newTask.done=taskInfo.done,newTask.crit=taskInfo.crit,newTask.milestone=taskInfo.milestone,lastTask=newTask,tasks.push(newTask)},setIncludes:function(txt){includes=txt.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return includes},setExcludes:function(txt){excludes=txt.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return excludes},setClickEvent:function(ids,functionName,functionArgs){ids.split(",").forEach((function(id){!function(id,functionName,functionArgs){if("loose"!==(0,mermaid_a953d906.c)().securityLevel)return;if(void 0===functionName)return;let argList=[];if("string"==typeof functionArgs){argList=functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<argList.length;i++){let item=argList[i].trim();'"'===item.charAt(0)&&'"'===item.charAt(item.length-1)&&(item=item.substr(1,item.length-2)),argList[i]=item}}0===argList.length&&argList.push(id),void 0!==findTaskById(id)&&pushFun(id,(()=>{mermaid_a953d906.u.runFunc(functionName,...argList)}))}(id,functionName,functionArgs)})),setClass(ids,"clickable")},setLink:function(ids,_linkStr){let linkStr=_linkStr;"loose"!==(0,mermaid_a953d906.c)().securityLevel&&(linkStr=(0,dist.N)(_linkStr)),ids.split(",").forEach((function(id){void 0!==findTaskById(id)&&(pushFun(id,(()=>{window.open(linkStr,"_self")})),links[id]=linkStr)})),setClass(ids,"clickable")},getLinks:function(){return links},bindFunctions:function(element){funs.forEach((function(fun){fun(element)}))},parseDuration,isInvalidDate};function getTaskTags(data,task,tags2){let matchFound=!0;for(;matchFound;)matchFound=!1,tags2.forEach((function(t){const regex=new RegExp("^\\s*"+t+"\\s*$");data[0].match(regex)&&(task[t]=!0,data.shift(1),matchFound=!0)}))}const getMaxIntersections=(tasks2,orderOffset)=>{let timeline=[...tasks2].map((()=>-1/0)),sorted=[...tasks2].sort(((a,b)=>a.startTime-b.startTime||a.order-b.order)),maxIntersections=0;for(const element of sorted)for(let j=0;j<timeline.length;j++)if(element.startTime>=timeline[j]){timeline[j]=element.endTime,element.order=j+orderOffset,j>maxIntersections&&(maxIntersections=j);break}return maxIntersections};let w;const diagram={parser:ganttParser,db:ganttDb,renderer:{setConf:function(){mermaid_a953d906.l.debug("Something is calling, setConf, remove the call")},draw:function(text,id,version,diagObj){const conf=(0,mermaid_a953d906.c)().gantt,securityLevel=(0,mermaid_a953d906.c)().securityLevel;let sandboxElement;"sandbox"===securityLevel&&(sandboxElement=(0,src.Ys)("#i"+id));const root="sandbox"===securityLevel?(0,src.Ys)(sandboxElement.nodes()[0].contentDocument.body):(0,src.Ys)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,elem=doc.getElementById(id);w=elem.parentElement.offsetWidth,void 0===w&&(w=1200),void 0!==conf.useWidth&&(w=conf.useWidth);const taskArray=diagObj.db.getTasks();let categories=[];for(const element of taskArray)categories.push(element.type);categories=function checkUnique(arr){const hash={},result=[];for(let i=0,l=arr.length;i<l;++i)Object.prototype.hasOwnProperty.call(hash,arr[i])||(hash[arr[i]]=!0,result.push(arr[i]));return result}(categories);const categoryHeights={};let h=2*conf.topPadding;if("compact"===diagObj.db.getDisplayMode()||"compact"===conf.displayMode){const categoryElements={};for(const element of taskArray)void 0===categoryElements[element.section]?categoryElements[element.section]=[element]:categoryElements[element.section].push(element);let intersections=0;for(const category of Object.keys(categoryElements)){const categoryHeight=getMaxIntersections(categoryElements[category],intersections)+1;intersections+=categoryHeight,h+=categoryHeight*(conf.barHeight+conf.barGap),categoryHeights[category]=categoryHeight}}else{h+=taskArray.length*(conf.barHeight+conf.barGap);for(const category of categories)categoryHeights[category]=taskArray.filter((task=>task.type===category)).length}elem.setAttribute("viewBox","0 0 "+w+" "+h);const svg=root.select(`[id="${id}"]`),timeScale=(0,src.Xf)().domain([(0,src.VV$)(taskArray,(function(d){return d.startTime})),(0,src.Fp7)(taskArray,(function(d){return d.endTime}))]).rangeRound([0,w-conf.leftPadding-conf.rightPadding]);taskArray.sort((function taskCompare(a,b){const taskA=a.startTime,taskB=b.startTime;let result=0;return taskA>taskB?result=1:taskA<taskB&&(result=-1),result})),function makeGant(tasks2,pageWidth,pageHeight){const barHeight=conf.barHeight,gap=barHeight+conf.barGap,topPadding=conf.topPadding,leftPadding=conf.leftPadding;(0,src.BYU)().domain([0,categories.length]).range(["#00B9FA","#F95002"]).interpolate(src.JHv);(function drawExcludeDays(theGap,theTopPad,theSidePad,w2,h2,tasks2,excludes2,includes2){const minTime=tasks2.reduce(((min2,{startTime})=>min2?Math.min(min2,startTime):startTime),0),maxTime=tasks2.reduce(((max2,{endTime})=>max2?Math.max(max2,endTime):endTime),0),dateFormat2=diagObj.db.getDateFormat();if(!minTime||!maxTime)return;const excludeRanges=[];let range=null,d=(0,esm.Z)(minTime);for(;d.valueOf()<=maxTime;)diagObj.db.isInvalidDate(d,dateFormat2,excludes2,includes2)?range?range.end=d:range={start:d,end:d}:range&&(excludeRanges.push(range),range=null),d=d.add(1,"d");svg.append("g").selectAll("rect").data(excludeRanges).enter().append("rect").attr("id",(function(d2){return"exclude-"+d2.start.format("YYYY-MM-DD")})).attr("x",(function(d2){return timeScale(d2.start)+theSidePad})).attr("y",conf.gridLineStartPadding).attr("width",(function(d2){const renderEnd=d2.end.add(1,"day");return timeScale(renderEnd)-timeScale(d2.start)})).attr("height",h2-theTopPad-conf.gridLineStartPadding).attr("transform-origin",(function(d2,i){return(timeScale(d2.start)+theSidePad+.5*(timeScale(d2.end)-timeScale(d2.start))).toString()+"px "+(i*theGap+.5*h2).toString()+"px"})).attr("class","exclude-range")})(gap,topPadding,leftPadding,0,pageHeight,tasks2,diagObj.db.getExcludes(),diagObj.db.getIncludes()),function makeGrid(theSidePad,theTopPad,w2,h2){let bottomXAxis=(0,src.LLu)(timeScale).tickSize(-h2+theTopPad+conf.gridLineStartPadding).tickFormat((0,src.i$Z)(diagObj.db.getAxisFormat()||conf.axisFormat||"%Y-%m-%d"));const resultTickInterval=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(diagObj.db.getTickInterval()||conf.tickInterval);if(null!==resultTickInterval){const every=resultTickInterval[1];switch(resultTickInterval[2]){case"minute":bottomXAxis.ticks(src.Z_i.every(every));break;case"hour":bottomXAxis.ticks(src.WQD.every(every));break;case"day":bottomXAxis.ticks(src.rr1.every(every));break;case"week":bottomXAxis.ticks(src.NGh.every(every));break;case"month":bottomXAxis.ticks(src.F0B.every(every))}}if(svg.append("g").attr("class","grid").attr("transform","translate("+theSidePad+", "+(h2-50)+")").call(bottomXAxis).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),diagObj.db.topAxisEnabled()||conf.topAxis){let topXAxis=(0,src.F5q)(timeScale).tickSize(-h2+theTopPad+conf.gridLineStartPadding).tickFormat((0,src.i$Z)(diagObj.db.getAxisFormat()||conf.axisFormat||"%Y-%m-%d"));if(null!==resultTickInterval){const every=resultTickInterval[1];switch(resultTickInterval[2]){case"minute":topXAxis.ticks(src.Z_i.every(every));break;case"hour":topXAxis.ticks(src.WQD.every(every));break;case"day":topXAxis.ticks(src.rr1.every(every));break;case"week":topXAxis.ticks(src.NGh.every(every));break;case"month":topXAxis.ticks(src.F0B.every(every))}}svg.append("g").attr("class","grid").attr("transform","translate("+theSidePad+", "+theTopPad+")").call(topXAxis).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(leftPadding,topPadding,0,pageHeight),function drawRects(theArray,theGap,theTopPad,theSidePad,theBarHeight,theColorScale,w2){const uniqueTasks=[...new Set(theArray.map((item=>item.order)))].map((id2=>theArray.find((item=>item.order===id2))));svg.append("g").selectAll("rect").data(uniqueTasks).enter().append("rect").attr("x",0).attr("y",(function(d,i){return d.order*theGap+theTopPad-2})).attr("width",(function(){return w2-conf.rightPadding/2})).attr("height",theGap).attr("class",(function(d){for(const[i,category]of categories.entries())if(d.type===category)return"section section"+i%conf.numberSectionStyles;return"section section0"}));const rectangles=svg.append("g").selectAll("rect").data(theArray).enter(),links2=diagObj.db.getLinks();rectangles.append("rect").attr("id",(function(d){return d.id})).attr("rx",3).attr("ry",3).attr("x",(function(d){return d.milestone?timeScale(d.startTime)+theSidePad+.5*(timeScale(d.endTime)-timeScale(d.startTime))-.5*theBarHeight:timeScale(d.startTime)+theSidePad})).attr("y",(function(d,i){return d.order*theGap+theTopPad})).attr("width",(function(d){return d.milestone?theBarHeight:timeScale(d.renderEndTime||d.endTime)-timeScale(d.startTime)})).attr("height",theBarHeight).attr("transform-origin",(function(d,i){return i=d.order,(timeScale(d.startTime)+theSidePad+.5*(timeScale(d.endTime)-timeScale(d.startTime))).toString()+"px "+(i*theGap+theTopPad+.5*theBarHeight).toString()+"px"})).attr("class",(function(d){const res="task";let classStr="";d.classes.length>0&&(classStr=d.classes.join(" "));let secNum=0;for(const[i,category]of categories.entries())d.type===category&&(secNum=i%conf.numberSectionStyles);let taskClass="";return d.active?d.crit?taskClass+=" activeCrit":taskClass=" active":d.done?taskClass=d.crit?" doneCrit":" done":d.crit&&(taskClass+=" crit"),0===taskClass.length&&(taskClass=" task"),d.milestone&&(taskClass=" milestone "+taskClass),taskClass+=secNum,taskClass+=" "+classStr,res+taskClass})),rectangles.append("text").attr("id",(function(d){return d.id+"-text"})).text((function(d){return d.task})).attr("font-size",conf.fontSize).attr("x",(function(d){let startX=timeScale(d.startTime),endX=timeScale(d.renderEndTime||d.endTime);d.milestone&&(startX+=.5*(timeScale(d.endTime)-timeScale(d.startTime))-.5*theBarHeight),d.milestone&&(endX=startX+theBarHeight);const textWidth=this.getBBox().width;return textWidth>endX-startX?endX+textWidth+1.5*conf.leftPadding>w2?startX+theSidePad-5:endX+theSidePad+5:(endX-startX)/2+startX+theSidePad})).attr("y",(function(d,i){return d.order*theGap+conf.barHeight/2+(conf.fontSize/2-2)+theTopPad})).attr("text-height",theBarHeight).attr("class",(function(d){const startX=timeScale(d.startTime);let endX=timeScale(d.endTime);d.milestone&&(endX=startX+theBarHeight);const textWidth=this.getBBox().width;let classStr="";d.classes.length>0&&(classStr=d.classes.join(" "));let secNum=0;for(const[i,category]of categories.entries())d.type===category&&(secNum=i%conf.numberSectionStyles);let taskType="";return d.active&&(taskType=d.crit?"activeCritText"+secNum:"activeText"+secNum),d.done?taskType=d.crit?taskType+" doneCritText"+secNum:taskType+" doneText"+secNum:d.crit&&(taskType=taskType+" critText"+secNum),d.milestone&&(taskType+=" milestoneText"),textWidth>endX-startX?endX+textWidth+1.5*conf.leftPadding>w2?classStr+" taskTextOutsideLeft taskTextOutside"+secNum+" "+taskType:classStr+" taskTextOutsideRight taskTextOutside"+secNum+" "+taskType+" width-"+textWidth:classStr+" taskText taskText"+secNum+" "+taskType+" width-"+textWidth}));if("sandbox"===(0,mermaid_a953d906.c)().securityLevel){let sandboxElement2;sandboxElement2=(0,src.Ys)("#i"+id);const doc2=sandboxElement2.nodes()[0].contentDocument;rectangles.filter((function(d){return void 0!==links2[d.id]})).each((function(o){var taskRect=doc2.querySelector("#"+o.id),taskText=doc2.querySelector("#"+o.id+"-text");const oldParent=taskRect.parentNode;var Link=doc2.createElement("a");Link.setAttribute("xlink:href",links2[o.id]),Link.setAttribute("target","_top"),oldParent.appendChild(Link),Link.appendChild(taskRect),Link.appendChild(taskText)}))}}(tasks2,gap,topPadding,leftPadding,barHeight,0,pageWidth),function vertLabels(theGap,theTopPad){let prevGap=0;const numOccurances=Object.keys(categoryHeights).map((d=>[d,categoryHeights[d]]));svg.append("g").selectAll("text").data(numOccurances).enter().append((function(d){const rows=d[0].split(mermaid_a953d906.e.lineBreakRegex),dy=-(rows.length-1)/2,svgLabel=doc.createElementNS("http://www.w3.org/2000/svg","text");svgLabel.setAttribute("dy",dy+"em");for(const[j,row]of rows.entries()){const tspan=doc.createElementNS("http://www.w3.org/2000/svg","tspan");tspan.setAttribute("alignment-baseline","central"),tspan.setAttribute("x","10"),j>0&&tspan.setAttribute("dy","1em"),tspan.textContent=row,svgLabel.appendChild(tspan)}return svgLabel})).attr("x",10).attr("y",(function(d,i){if(!(i>0))return d[1]*theGap/2+theTopPad;for(let j=0;j<i;j++)return prevGap+=numOccurances[i-1][1],d[1]*theGap/2+prevGap*theGap+theTopPad})).attr("font-size",conf.sectionFontSize).attr("class",(function(d){for(const[i,category]of categories.entries())if(d[0]===category)return"sectionTitle sectionTitle"+i%conf.numberSectionStyles;return"sectionTitle"}))}(gap,topPadding),function drawToday(theSidePad,theTopPad,w2,h2){const todayMarker2=diagObj.db.getTodayMarker();if("off"===todayMarker2)return;const todayG=svg.append("g").attr("class","today"),today=new Date,todayLine=todayG.append("line");todayLine.attr("x1",timeScale(today)+theSidePad).attr("x2",timeScale(today)+theSidePad).attr("y1",conf.titleTopMargin).attr("y2",h2-conf.titleTopMargin).attr("class","today"),""!==todayMarker2&&todayLine.attr("style",todayMarker2.replace(/,/g,";"))}(leftPadding,0,0,pageHeight)}(taskArray,w,h),(0,mermaid_a953d906.i)(svg,h,w,conf.useMaxWidth),svg.append("text").text(diagObj.db.getDiagramTitle()).attr("x",w/2).attr("y",conf.titleTopMargin).attr("class","titleText")}},styles:options=>`\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: ${options.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${options.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${options.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${options.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ${options.ganttFontSize};\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${options.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ${options.fontFamily};\n      fill: ${options.textColor};\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${options.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ${options.ganttFontSize};\n  // }\n\n  .taskTextOutsideRight {\n    fill: ${options.taskTextDarkColor};\n    text-anchor: start;\n    // font-size: ${options.ganttFontSize};\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${options.taskTextDarkColor};\n    text-anchor: end;\n    // font-size: ${options.ganttFontSize};\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${options.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${options.taskBkgColor};\n    stroke: ${options.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${options.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${options.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${options.activeTaskBkgColor};\n    stroke: ${options.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${options.doneTaskBorderColor};\n    fill: ${options.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor}    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n`}}}]);