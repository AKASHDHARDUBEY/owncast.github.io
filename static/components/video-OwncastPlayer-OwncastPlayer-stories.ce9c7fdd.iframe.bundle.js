"use strict";(self.webpackChunkowncast_web=self.webpackChunkowncast_web||[]).push([[6877],{"./components/ui/ComponentError/ComponentError.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ComponentError});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),antd__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/antd/es/alert/index.js"),antd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/antd/es/button/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,openBugReport=function openBugReport(){window.open("https://github.com/owncast/owncast/issues/new?assignees=&labels=&template=bug-report-feature-request.yml","_blank")},ErrorContent=function ErrorContent(_ref){var message=_ref.message,componentName=_ref.componentName,details=_ref.details,canRetry=_ref.canRetry;return __jsx("div",null,__jsx("p",null,"There was an unexpected error. It would be appreciated if you would report this so it can be fixed in the future."),!!canRetry&&__jsx("p",null,"You may optionally retry, however functionality might not work as expected."),__jsx("code",null,__jsx("div",null,message&&"Error: ".concat(message)),__jsx("div",null,"Component: ",componentName),__jsx("div",null,details&&details)))};ErrorContent.displayName="ErrorContent";var ComponentError=function ComponentError(_ref2){var message=_ref2.message,componentName=_ref2.componentName,details=_ref2.details,retryFunction=_ref2.retryFunction;return __jsx(antd__WEBPACK_IMPORTED_MODULE_1__.Z,{message:"Error",showIcon:!0,description:__jsx(ErrorContent,{message,details,componentName,canRetry:!!retryFunction}),type:"error",action:__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,retryFunction&&__jsx(antd__WEBPACK_IMPORTED_MODULE_2__.Z,{ghost:!0,size:"small",onClick:retryFunction},"Retry"),__jsx(antd__WEBPACK_IMPORTED_MODULE_2__.Z,{ghost:!0,size:"small",danger:!0,onClick:openBugReport},"Report Error"))})};ComponentError.displayName="ComponentError",ComponentError.__docgenInfo={description:"",methods:[],displayName:"ComponentError",props:{message:{required:!1,tsType:{name:"string"},description:""},componentName:{required:!0,tsType:{name:"string"},description:""},details:{required:!1,tsType:{name:"string"},description:""},retryFunction:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};try{ComponentError.displayName="ComponentError",ComponentError.__docgenInfo={description:"",displayName:"ComponentError",props:{message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},componentName:{defaultValue:null,description:"",name:"componentName",required:!0,type:{name:"string"}},details:{defaultValue:null,description:"",name:"details",required:!1,type:{name:"string"}},retryFunction:{defaultValue:null,description:"",name:"retryFunction",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ui/ComponentError/ComponentError.tsx#ComponentError"]={docgenInfo:ComponentError.__docgenInfo,name:"ComponentError",path:"components/ui/ComponentError/ComponentError.tsx#ComponentError"})}catch(__react_docgen_typescript_loader_error){}},"./components/video/OwncastPlayer/OwncastPlayer.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LiveDemo:()=>LiveDemo,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _LiveDemo$parameters,_LiveDemo$parameters2,_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),recoil__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/recoil/es/index.js"),_OwncastPlayer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/video/OwncastPlayer/OwncastPlayer.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var streams={DemoServer:"https://watch.owncast.online/hls/stream.m3u8",RetroStrangeTV:"https://live.retrostrange.com/hls/stream.m3u8",localhost:"http://localhost:8080/hls/stream.m3u8"};const __WEBPACK_DEFAULT_EXPORT__={title:"owncast/Player/Player",component:_OwncastPlayer__WEBPACK_IMPORTED_MODULE_3__.OwncastPlayer,argTypes:{source:{options:Object.keys(streams),mapping:streams,control:{type:"select"}}},parameters:{}};var Template=function Template(args){return __jsx(recoil__WEBPACK_IMPORTED_MODULE_2__.Wh,null,__jsx(_OwncastPlayer__WEBPACK_IMPORTED_MODULE_3__.OwncastPlayer,args))};Template.displayName="Template";var LiveDemo={render:Template,args:{online:!0,source:"https://watch.owncast.online/hls/stream.m3u8",title:"Stream title"}};LiveDemo.parameters=_objectSpread(_objectSpread({},LiveDemo.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_LiveDemo$parameters=LiveDemo.parameters)||void 0===_LiveDemo$parameters?void 0:_LiveDemo$parameters.docs),{},{source:_objectSpread({originalSource:"{\n  render: Template,\n  args: {\n    online: true,\n    source: 'https://watch.owncast.online/hls/stream.m3u8',\n    title: 'Stream title'\n  }\n}"},null===(_LiveDemo$parameters2=LiveDemo.parameters)||void 0===_LiveDemo$parameters2||null===(_LiveDemo$parameters2=_LiveDemo$parameters2.docs)||void 0===_LiveDemo$parameters2?void 0:_LiveDemo$parameters2.source)})})},"./services/video-settings-service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>VideoSettingsServiceContext});var _tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),VideoSettingsService=function(){function VideoSettingsService(){(0,_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.Z)(this,VideoSettingsService)}var _getVideoQualities;return(0,_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__.Z)(VideoSettingsService,null,[{key:"getVideoQualities",value:(_getVideoQualities=(0,_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(){var qualities,response;return _tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return qualities=[],_context.prev=1,_context.next=4,fetch(VideoSettingsService.VIDEO_CONFIG_URL);case 4:return response=_context.sent,_context.next=7,response.json();case 7:qualities=_context.sent,_context.next=13;break;case 10:_context.prev=10,_context.t0=_context.catch(1),console.error(_context.t0);case 13:return _context.abrupt("return",qualities);case 14:case"end":return _context.stop()}}),_callee,null,[[1,10]])}))),function getVideoQualities(){return _getVideoQualities.apply(this,arguments)})}]),VideoSettingsService}();(0,_tmp_tmp_r34ablKz6t_owncast_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_5__.Z)(VideoSettingsService,"VIDEO_CONFIG_URL","/api/video/variants");var VideoSettingsServiceContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(VideoSettingsService)}}]);