{"version":"https://jsonfeed.org/version/1.1","title":"S3 Storage","description":"Use an external storage provider to distribute your Owncast video stream.","home_page_url":"/","feed_url":"/docs/storage/index.json","language":"en-US","items":[{"title":"AWS S3","date_published":"0001-01-01T00:00:00Z","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/aws/","url":"/docs/storage/aws/","content_html":"\u003cp\u003eAWS S3 is a good choice if you\u0026rsquo;re already using AWS for your server or are comfortable using AWS for other things. If you\u0026rsquo;re brand new to object storage and not using AWS already I\u0026rsquo;m not sure I\u0026rsquo;d recommend jumping into it just for Owncast. There are other options.\u003c/p\u003e\n\u003cp\u003eHere\u0026rsquo;s some example usage and pricing for AWS S3:\n\n\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cfigure \u003e\n        \n            \u003cimg src=\"/docs/img/aws-price-usage.png\" width=\"100%\" loading=\"lazy\" /\u003e\n            \n        \n    \u003c/figure\u003e\n    \u003c/div\u003e\u003c/p\u003e\n\u003ch2 id=\"create-an-s3-bucket\"\u003eCreate an S3 Bucket\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://s3.console.aws.amazon.com/s3\"\u003ehttps://s3.console.aws.amazon.com/s3\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eUncheck \u0026ldquo;Block all public access\u0026rdquo; since you want all files to be readable. Check \u0026ldquo;ACLs Enabled\u0026rdquo; to allow non-owner AWS users to manage objects in the bucket. Leave the rest of the default values.\u003c/p\u003e\n\u003ch2 id=\"create-an-expiration-policy\"\u003eCreate an expiration policy\u003c/h2\u003e\n\u003cp\u003eYou should expire old segments on your S3 bucket. \u003ca href=\"https://docs.aws.amazon.com/AmazonS3/latest/user-guide/create-lifecycle.html\"\u003eHere are some additional details.\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOnce an object expires you won\u0026rsquo;t be charged for storage, even if the object isn\u0026rsquo;t deleted immediately.\u003c/li\u003e\n\u003cli\u003eA one day object expiration lifecycle rule on objects is as low as you can go, so use that.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eClick into your bucket and click the \u0026ldquo;Management\u0026rdquo; tab.\u003c/p\u003e\n\u003cp\u003eCreate a new lifecycle rule:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCheck \u0026ldquo;This rule applies to all objects in the bucket\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eCheck \u0026ldquo;Expire current versions of objects\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eEnter 1 day or whatever you want\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"enable-cors\"\u003eEnable CORS\u003c/h2\u003e\n\u003cp\u003eBack on the main bucket page, click the \u0026ldquo;Permissions\u0026rdquo; tab.\u003c/p\u003e\n\u003cp\u003eScroll down to the CORS section and click Edit, then paste in this JSON, to allow CORS from any website.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;AllowedHeaders\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[],\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;AllowedMethods\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;GET\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;AllowedOrigins\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;ExposeHeaders\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/cors.html#how-do-i-enable-cors\"\u003eRead more about enabling CORS if you\u0026rsquo;d like more details\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"create-an-iam-user\"\u003eCreate an IAM User\u003c/h2\u003e\n\u003cp\u003eIn this step you\u0026rsquo;ll create credentials that have permission to upload to the bucket. The simple way is to create credentials that have full access to your S3 account, which is fine for testing or if this is the only thing on your AWS account, but you\u0026rsquo;d probably want to look up how to create a more limited user for production work.\u003c/p\u003e\n\u003cp\u003eGo to the \u003ca href=\"https://console.aws.amazon.com/iam/home\"\u003eIAM Service\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eClick on \u0026ldquo;Users\u0026rdquo; in the sidebar, and click \u0026ldquo;Create new user\u0026rdquo;. Enter a username and check \u0026ldquo;Programmatic access\u0026rdquo;.\u003c/p\u003e\n\u003cp\u003eClick \u0026ldquo;Next\u0026rdquo;, then choose the \u0026ldquo;Attach existing policies directly\u0026rdquo; option.\u003c/p\u003e\n\u003cp\u003eSearch for \u0026ldquo;AmazonS3FullAccess\u0026rdquo; and click the checkbox, then click Next.\u003c/p\u003e\n\u003cp\u003eYou can skip the tags screen.\u003c/p\u003e\n\u003cp\u003eCopy the \u0026ldquo;Access key ID\u0026rdquo; and \u0026ldquo;Secret access key\u0026rdquo; into your OwnCast config.\u003c/p\u003e\n\u003ch2 id=\"configure-owncast\"\u003eConfigure OwnCast\u003c/h2\u003e\n\u003cp\u003eNavigate to the \u0026ldquo;Storage\u0026rdquo; tab.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEndpoint: \u003ca href=\"https://s3-us-west-2.amazonaws.com\"\u003ehttps://s3-us-west-2.amazonaws.com\u003c/a\u003e (replace \u0026ldquo;us-west-2\u0026rdquo; with the appropriate one for your bucket\u0026rsquo;s region)\u003c/li\u003e\n\u003cli\u003eAccess Key: The key you created earlier\u003c/li\u003e\n\u003cli\u003eSecret Key: The secret key you created earlier\u003c/li\u003e\n\u003cli\u003eBucket: The short name of your S3 bucket you created, e.g. \u0026ldquo;livestream-example\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eRegion: \u0026ldquo;us-west-2\u0026rdquo; in my example\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"cdn\"\u003eCDN\u003c/h3\u003e\n\u003cp\u003eAWS (and other S3 compatible providers) offer a feature to change the HTTP host to support CDNs. You can configure Owncast to serve media files from this host by setting the \u003ccode\u003eServing Endpoint\u003c/code\u003e to your CDNed host. For testing try it without setting this value first to make sure things are working, and then add the additional configuration.\u003c/p\u003e\n"},{"title":"OVH Object Storage S3","date_published":"0001-01-01T00:00:00Z","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/ovh/","url":"/docs/storage/ovh/","content_html":"\u003cp\u003eIf your Owncast server is hosted on an OVH machine you should use their object storage product. Be careful there are two different types of object storage : Swift and S3. This applies only for S3.\u003c/p\u003e\n\u003ch2 id=\"create-your-owncast-user\"\u003eCreate your owncast user\u003c/h2\u003e\n\u003cp\u003eIn OVH console create your Owncast user. In \u003ccode\u003eStorage / Object Storage / S3 users\u003c/code\u003e and choose \u003ccode\u003eAdd User / Create a new user\u003c/code\u003e. This will create a user with \u003ccode\u003eObject Storage Operator\u003c/code\u003e and its access / secret ID.\u003c/p\u003e\n\u003ch2 id=\"setup-aws-cli\"\u003eSetup aws cli\u003c/h2\u003e\n\u003cp\u003eYou might have this cli already setup if you are using AWS. In that case pick only what you need.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eInstallation:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003epip install awscli awscli-plugin-endpoint\nmkdir ~/.aws\n\u003c/code\u003e\u003c/pre\u003e\u003col start=\"2\"\u003e\n\u003cli\u003eConfiguration\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003ccode\u003e~/.aws/config\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-toml\" data-lang=\"toml\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eendpoint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eawscli_plugin_endpoint\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eprofile\u003c/span\u003e \u003cspan class=\"nx\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eregion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"err\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eregion\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003es3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eendpoint_url\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ehttps\u003c/span\u003e\u003cspan class=\"err\"\u003e://\u003c/span\u003e\u003cspan class=\"nx\"\u003es3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eregion\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eio\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecloud\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eovh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003enet\u003c/span\u003e\u003cspan class=\"err\"\u003e/\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003esignature_version\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003es3v4\u003c/span\u003e\n\u003cspan class=\"nx\"\u003es3api\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eendpoint_url\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ehttps\u003c/span\u003e\u003cspan class=\"err\"\u003e://\u003c/span\u003e\u003cspan class=\"nx\"\u003es3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eregion\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eio\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecloud\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eovh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003enet\u003c/span\u003e\u003cspan class=\"err\"\u003e/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003e~/.aws/credentials\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-toml\" data-lang=\"toml\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eaws_access_key_id\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"err\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eowncast_user_access_key\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eaws_secret_access_key\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"err\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eowncast_user_access_key\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"create-your-bucket\"\u003eCreate your bucket\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003eaws --profile default s3api create-bucket --acl public-read --bucket \u0026lt;bucket_name\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTo allowes your bucket to be used on your owncast website you have to define CORS. The following \u003ccode\u003ecors.json\u003c/code\u003e is generous and allowes any websites.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ecors.json\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026#34;CORSRules\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026#34;AllowedOrigins\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026#34;AllowedHeaders\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;Authorization\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026#34;AllowedMethods\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;GET\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;HEAD\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026#34;MaxAgeSeconds\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"setup-owncast\"\u003eSetup owncast\u003c/h2\u003e\n\u003cp\u003eIn admin interface \u003ccode\u003eConfiguration/ Server Setup / S3 Object Storage\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eFill all the information you could find in your OVH console:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEndpoint : \u003ccode\u003ehttps://s3.\u0026lt;region\u0026gt;.io.cloud.ovh.net/\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAccess key / Secret key: the one you have used in \u003ccode\u003e~/.aws/credentials\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eBucket: \u003ccode\u003e\u0026lt;bucket_name\u0026gt;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eOptional Settings / Serving Endpoint: \u003ccode\u003ehttps://\u0026lt;bucket_name\u0026gt;.s3.\u0026lt;region\u0026gt;.io.cloud.ovh.net\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLet\u0026rsquo;s stream!\u003c/p\u003e\n"},{"title":"Backblaze B2","date_published":"2020-11-17T20:11:42+01:00","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/backblaze/","url":"/docs/storage/backblaze/","content_html":"\u003cp\u003eAs of November 2020 \u003ca href=\"https://www.backblaze.com/b2/cloud-storage.html\"\u003eBackblaze\u0026rsquo;s B2\u003c/a\u003e is fully \u003ca href=\"https://www.backblaze.com/b2/docs/s3_compatible_api.html\"\u003eS3 compatible\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eB2\u0026rsquo;s first 10G of storage is free, and the first 1G of download per day is free after that. Afterwards they charge $0.01/G.\u003c/p\u003e\n\u003ch3 id=\"keys\"\u003eKeys\u003c/h3\u003e\n\u003cp\u003eWhen creating your \u003ca href=\"https://secure.backblaze.com/app_keys.htm\"\u003e\u0026ldquo;Application Keys\u0026rdquo;\u003c/a\u003e keep in mind that the \u003cstrong\u003e\u0026ldquo;Application Key ID\u0026rdquo;\u003c/strong\u003e is the \u003cstrong\u003e\u0026ldquo;Access Key\u0026rdquo;\u003c/strong\u003e and the \u003cstrong\u003e\u0026ldquo;Application Key\u0026rdquo;\u003c/strong\u003e is the \u003cstrong\u003e\u0026ldquo;Secret\u0026rdquo;\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eIt has been suggested that you make sure you set your key setting of \u0026ldquo;Allow access to Bucket\u0026rdquo; to \u003ccode\u003eAll\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"bucket-settings\"\u003eBucket settings\u003c/h3\u003e\n\u003cp\u003eThe bucket must be public (\u003ccode\u003eType: Public\u003c/code\u003e) else end users could not watch your stream.\nNote that in Owncast you must enter the bucket name, the endpoint (with \u003ccode\u003ehttps://\u003c/code\u003e prepended) and the region. The region is the bit in the endpoint URL after \u003ccode\u003es3.\u003c/code\u003e and before \u003ccode\u003e.backblazeb2.com\u003c/code\u003e. For example, if my endpoint is \u003ccode\u003ehttps://s3.eu-central-003.backblazeb2.com\u003c/code\u003e then the region is \u003ccode\u003eeu-central-003\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"cors-settings\"\u003eCORS settings\u003c/h3\u003e\n\u003cp\u003eWhile the specific origins you want to support are up to you, make sure the API for CORS support is set to either \u003cstrong\u003e\u0026ldquo;S3\u0026rdquo;\u003c/strong\u003e or \u003cstrong\u003e\u0026ldquo;Both\u0026rdquo;\u003c/strong\u003e.\u003c/p\u003e\n\n\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cfigure \u003e\n        \n            \u003cimg src=\"/docs/img/b2_cors.png\" width=\"100%\" loading=\"lazy\" /\u003e\n            \n        \n    \u003c/figure\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"expiration-of-old-files-on-b2\"\u003eExpiration of old files on B2\u003c/h3\u003e\n\u003cp\u003eYou can have B2 delete old video files every day to keep your storage low by simply changing the \u003cstrong\u003eLifecycle Settings\u003c/strong\u003e in the B2 dashboard.\u003c/p\u003e\n\n\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cfigure \u003e\n        \n            \u003cimg src=\"/docs/img/b2_delete_old_files.png\" width=\"100%\" loading=\"lazy\" /\u003e\n            \n        \n    \u003c/figure\u003e\n    \u003c/div\u003e\n"},{"title":"Digital Ocean Spaces","date_published":"2020-11-17T20:11:42+01:00","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/digitalocean/","url":"/docs/storage/digitalocean/","content_html":"\u003cp\u003e250 GB storage + 1 TB Outbound Transfer for $5/mo.\u003c/p\u003e\n\u003cp\u003eDigital Ocean Spaces is a good choice if you\u0026rsquo;re already using DigitalOcean to host your server. It should be fast to transfer your video from your server to their storage service, and their pricing will probably just be the flat $5/mo for you, so it\u0026rsquo;s easy to know what you\u0026rsquo;re paying.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate a new bucket in the \u003ca href=\"https://cloud.digitalocean.com/spaces\"\u003eDigitalOcean\u003c/a\u003e console.\u003c/li\u003e\n\u003cli\u003eEdit your storage config and change the S3 \u003ccode\u003eendpoint\u003c/code\u003e. If your bucket hostname is \u003ccode\u003emyvideo.nyc3.digitaloceanspaces.com\u003c/code\u003e the endpoint you put into Owncast should be \u003ccode\u003enyc3.digitaloceanspaces.com\u003c/code\u003e. DigitalOcean doesn\u0026rsquo;t seem to care about the region provided but to be safe use an AWS s3 compatible region like: \u003ccode\u003eus-east-1\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eUsing the \u003ca href=\"https://cloud.digitalocean.com/account/api/tokens\"\u003eDigitalOcean Applications and API\u003c/a\u003e page create a new Spaces Access Key and add the Key and Secret to your admin.\u003c/li\u003e\n\u003cli\u003eIn DigitalOceans Console go into your new bucket and select the Settings tab\u003c/li\u003e\n\u003cli\u003eClick \u003ccode\u003eEdit\u003c/code\u003e next to the File Listing\u003c/li\u003e\n\u003cli\u003eToggle to \u003ccode\u003eEnable File Listing\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eClick \u003ccode\u003eSave\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eClick \u003ccode\u003eAdd\u003c/code\u003e next to the CORS Configurations\u003c/li\u003e\n\u003cli\u003eAdd your owncast URL as the Origin with GET checked under the Allowed Methods\u003c/li\u003e\n\u003cli\u003eClick \u003ccode\u003eSave Options\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"expiring-files\"\u003eExpiring files\u003c/h3\u003e\n\u003cp\u003eYou\u0026rsquo;ll want to configure your bucket to auto-expire things saved there as soon as possible, as Owncast only needs to save things for a very short time.\u003c/p\u003e\n\u003cp\u003eSee \u003ca href=\"https://www.digitalocean.com/community/questions/spaces-lifecycle-is-not-expiring-files\"\u003ethis discussion\u003c/a\u003e for configuring this on Digital Ocean. Refer to their documentation or contact Digital Ocean for further details.\u003c/p\u003e\n\u003ch3 id=\"double-check\"\u003eDouble check\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eYour API endpoint doesn\u0026rsquo;t have your bucket name in it.\u003c/li\u003e\n\u003cli\u003eYour bucket is public.\u003c/li\u003e\n\u003cli\u003eYour bucket has CORS enabled.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou should now be ready to stream using DigitalOcean Spaces.\u003c/p\u003e\n"},{"title":"Wasabi","date_published":"2020-11-17T20:11:42+01:00","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/wasabi/","url":"/docs/storage/wasabi/","content_html":"\u003cp\u003ePlease read the following \u003ca href=\"https://wasabi-support.zendesk.com/hc/en-us/articles/360000451052-Can-I-use-Wasabi-to-host-my-videos-\"\u003elink\u003c/a\u003e before using.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u0026ldquo;However, we do not recommend the playback of video directly from object storage (Wasabi or AWS S3) as the costs may be higher than expected and the delivery quality will be sub-optimal (as compared to solutions that pair object storage with a CDN and/or encoding/decoding functions).\u0026rdquo; -Wasabi\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eMost people would end up paying $5.99/mo with \u003ca href=\"https://wasabi.com/content-delivery/\"\u003eWasabi\u003c/a\u003e, and there\u0026rsquo;s no additional costs for the amount of people or amount of times people access your video. So if you have a ton of viewers, this is probably a good option.\u003c/p\u003e\n\u003ch3 id=\"create-a-user-and-access-key\"\u003eCreate a user and access key.\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"https://wasabi.com/wp-content/themes/wasabi/docs/Getting_Started/index.html#t=topics%2FCreating_a_User.htm\"\u003eCreate a new user on Wasabi\u003c/a\u003e for yourself.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://wasabi.com/wp-content/themes/wasabi/docs/Getting_Started/index.html#t=topics%2FAssigning_an_Access_Key.htm\"\u003eCreate a new Access Key\u003c/a\u003e in the Users Panel.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://wasabi.com/wp-content/themes/wasabi/docs/Getting_Started/index.html#t=topics%2FGS-Buckets.htm%23TOC_Creating_a_Bucketbc-1\u0026amp;rhtocid=_5_0\"\u003eCreate a new Bucket\u003c/a\u003e in the Buckets Panel.\u003c/li\u003e\n\u003cli\u003eGo to the \u0026ldquo;Storage\u0026rdquo; section of the Owncast Admin and input the required storage details.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eDepending on the region where your bucket lives look up the service URL \u003ca href=\"https://wasabi-support.zendesk.com/hc/en-us/articles/360015106031-What-are-the-service-URLs-for-Wasabi-s-different-regions-\"\u003efrom this page\u003c/a\u003e.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEndpoint: Is the \u0026ldquo;service URL\u0026rdquo; you looked up above, likely \u003ccode\u003ehttps://s3.wasabisys.com\u003c/code\u003e or similar (Don\u0026rsquo;t forget to include \u0026ldquo;https://\u0026quot;)\u003c/li\u003e\n\u003cli\u003eAccess Key: Is the Access Key your created above\u003c/li\u003e\n\u003cli\u003eSecret Key: Is the Secret Key you created along with you Access Key above\u003c/li\u003e\n\u003cli\u003eBucket: Is the name of the bucket you created\u003c/li\u003e\n\u003cli\u003eRegion: Is the name of the region in which you created your bucket. It should look something like \u003ccode\u003eus-east-1\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"making-files-public\"\u003eMaking files public\u003c/h3\u003e\n\u003cp\u003eWasabi makes it easy to make a bucket public. \u003ca href=\"https://wasabi.com/wp-content/themes/wasabi/docs/Getting_Started/index.html#t=topics%2FMaking_Folders_and_or_Files_Public.htm\"\u003eFull documentation is here\u003c/a\u003e, but simply select the folder and choose \u0026ldquo;\u003cem\u003eMake Public\u003c/em\u003e\u0026rdquo;.\u003c/p\u003e\n\u003ch3 id=\"expiration-of-old-files-on-wasabi\"\u003eExpiration of old files on Wasabi\u003c/h3\u003e\n\u003cp\u003eIn order to have Wasabi clean up your old files for you, you will need to enable \u0026ldquo;Compliance Mode\u0026rdquo; and \u0026ldquo;Delete After Retention\u0026rdquo;.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eNavigate to your Bucket in the \u0026ldquo;Buckets\u0026rdquo; section of the Wasabi console\u003c/li\u003e\n\u003cli\u003eOpen the \u0026ldquo;COMPLIANCE\u0026rdquo; section by clicking the named tab\u003c/li\u003e\n\u003cli\u003eToggle \u0026ldquo;Compliance Mode\u0026rdquo; on\u003c/li\u003e\n\u003cli\u003eToggle \u0026ldquo;Delete After Retention\u0026rdquo; on\u003c/li\u003e\n\u003cli\u003eSet a \u0026ldquo;Retention Time\u0026rdquo; (1 day is fine for most cases)\u003c/li\u003e\n\u003cli\u003eSave your settings\u003c/li\u003e\n\u003c/ol\u003e\n"},{"title":"Cloudfare R2","date_published":"2022-10-04T18:20:28Z","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/cloudfare/","url":"/docs/storage/cloudfare/","content_html":"\u003cp\u003eCloudflare R2 Object Storage is S3-compatible\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.cloudflare.com/en-gb/products/r2/\"\u003eCloudfare R2\u003c/a\u003e gives you the freedom to create the multi-cloud architectures you desire with an S3-compatible global object storage.\u003c/p\u003e\n\u003ch2 id=\"pricing\"\u003ePricing\u003c/h2\u003e\n\u003cp\u003eR2 provides zero-cost egress for stored objects — no matter your request rate\u003c/p\u003e\n\u003cp\u003eHere\u0026rsquo;s a snapshot of usage and pricing for Cloudflare R2:\n\n\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cfigure \u003e\n        \n            \u003cimg src=\"/docs/img/cloudflare-r2-pricing.png\" width=\"100%\" loading=\"lazy\" /\u003e\n            \n        \n    \u003c/figure\u003e\n    \u003c/div\u003e\u003c/p\u003e\n\u003ch2 id=\"create-an-r2-bucket\"\u003eCreate an R2 Bucket\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eBefore creating a bucket, you have to purchase the R2 plan in the Cloudflare dahboard \u003ca href=\"https://www.cloudflare.com/pg-lp/r2/\"\u003ePurchase R2\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eClick on R2 in the dashboard or go to \u003ca href=\"https://dash.cloudflare.com/%7BACCOUNT_ID%7D/r2\"\u003ehttps://dash.cloudflare.com/{ACCOUNT_ID}/r2\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eEnter your preferred unique bucket name \u0026gt; Click \u0026ldquo;Create bucket\u0026rdquo;\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"generate-an-s3-auth-token\"\u003eGenerate an S3 Auth Token\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eIn \u003cstrong\u003eAccount Home\u003c/strong\u003e, select R2\u003c/li\u003e\n\u003cli\u003eSelect \u003cstrong\u003eManage R2 API Tokens\u003c/strong\u003e on the right side of the dashboard\u003c/li\u003e\n\u003cli\u003eSelect \u003cstrong\u003eCreate API token\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eSelect the pencil icon or R2 Token text to edit your API token name.\u003c/li\u003e\n\u003cli\u003eUnder Permissions, select \u003cstrong\u003eEdit: Allow edit access of all objects and List, Write, and Delete operations of all buckets\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eSelect \u003cstrong\u003eCreate API Token\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eAfter your token has been successfully created, review your \u003cstrong\u003eSecret Access Key\u003c/strong\u003e and \u003cstrong\u003eAccess Key ID values\u003c/strong\u003e.\n⚠️ \u003cem\u003eYou will not be able to access your Secret Access Key again after this step. Copy and record both values to avoid losing them.\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003eThe S3 endpoint is available via \u003ccode\u003ehttps://{account_id}.r2.cloudflarestorage.com\u003c/code\u003e endpoint\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"set-object-lifecycle-rules\"\u003eSet object lifecycle rules\u003c/h2\u003e\n\u003cp\u003eR2 allows you to define object lifecycle rules. You need these to automatically delete old video fragments. Once these are streamed out they are no longer needed and just take up space.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eGo to \u003cstrong\u003eSettings\u003c/strong\u003e in your preferred R2 bucket\u003c/li\u003e\n\u003cli\u003eClick \u003cstrong\u003eAdd rule\u003c/strong\u003e in the Object lifecycle rules section\u003c/li\u003e\n\u003cli\u003eGive the new rule a name, for example \u0026ldquo;delete old video files\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eSet the \u003cstrong\u003eDelete uploaded objects after:\u003c/strong\u003e value to 1 day\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"add-cors-policy\"\u003eAdd CORS Policy\u003c/h2\u003e\n\u003cp\u003eR2\u0026rsquo;s CORS implementation currently takes the form of AWS S3\u0026rsquo;s CORSRule.\u003c/p\u003e\n\u003cp\u003eR2 allows you to directly apply CORS policy in the Cloudflare dashboard.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGo to \u003cstrong\u003eSettings\u003c/strong\u003e in your preferred R2 bucket\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eClick \u003cstrong\u003eEdit CORS Policy\u003c/strong\u003e in the CORS Policy section\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCopy the JSON template below into the textbox\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e  \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026#34;AllowedOrigins\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\u0026#34;*\u0026#34;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026#34;AllowedMethods\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\u0026#34;GET\u0026#34;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026#34;AllowedHeaders\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[],\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026#34;ExposeHeaders\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou can also configure your AWS SDK for R2 in your favorite language \u003ca href=\"https://developers.cloudflare.com/r2/examples/\"\u003ehere\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"enable-public-access\"\u003eEnable Public Access\u003c/h2\u003e\n\u003cp\u003eCloudflare does not support \u003ca href=\"https://developers.cloudflare.com/r2/data-access/public-buckets/\"\u003epublic access to R2 buckets\u003c/a\u003e using the S3 api.\u003c/p\u003e\n\u003cp\u003ePublic buckets can be set up in either one of two ways:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eThe first exposes your bucket as a custom domain under your control.\u003c/li\u003e\n\u003cli\u003eThe second exposes your bucket as a Cloudflare-managed subdomain under \u003ca href=\"https://r2.dev\"\u003ehttps://r2.dev\u003c/a\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe easiest to use for testing purposes is a managed subdomain which can be setup as follows:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eLog in to the Cloudflare dashboard \u0026gt; select your account \u0026gt; R2\u003c/li\u003e\n\u003cli\u003eIn R2, select the bucket you want to use for streaming\u003c/li\u003e\n\u003cli\u003eGo to \u003cstrong\u003eSettings\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eIn Settings, go to \u003cstrong\u003eBucket Accesss\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eUnder Bucket Access, select \u003cstrong\u003eAllow Access\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eAfter confirming your choice in the prompt, you can now access the bucket the bucket using the Public Bucket URL. \u003ccode\u003ehttps://pub-\u0026lt;HASH-KEY\u0026gt;.r2.dev\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"configure-owncast\"\u003eConfigure Owncast\u003c/h2\u003e\n\u003cp\u003eNavigate to the \u0026ldquo;Storage\u0026rdquo; tab in the owncast admin dashboard.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEndpoint: \u003ccode\u003ehttps://{account_id}.r2.cloudflarestorage.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAccess Key: The \u003cstrong\u003eaccess key\u003c/strong\u003e you created earlier\u003c/li\u003e\n\u003cli\u003eSecret Key: The \u003cstrong\u003esecret key\u003c/strong\u003e you created earlier\u003c/li\u003e\n\u003cli\u003eBucket: The \u003cstrong\u003ename\u003c/strong\u003e of the R2 bucket you created, e.g. \u0026ldquo;owncast-stream-1\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eRegion: \u003ccode\u003eauto\u003c/code\u003e When using the S3 API, the region for an R2 bucket is auto\u003c/li\u003e\n\u003cli\u003eServing Endpoint: URL you created when enabling public access to your R2 bucket, e.g. \u003ccode\u003e\u0026quot;https://pub-\u0026lt;Hash-Key\u0026gt;.r2.dev\u0026quot;\u003c/code\u003e if you are using managed subdomain. ⚠️ \u003cstrong\u003e\u003cem\u003eMust not end with slash\u003c/em\u003e\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"},{"title":"Vultr Object Storage","date_published":"2022-01-28T01:11:42+01:00","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/vultr/","url":"/docs/storage/vultr/","content_html":"\u003cp\u003eIf you require S3 object storage services and already use Vultr as your hosting provider it might make sense to use their object storage offering as well, since the connection between your Owncast server and your storage provider will be fast.\u003c/p\u003e\n\u003ch2 id=\"cors\"\u003eCORS\u003c/h2\u003e\n\u003cp\u003eYou will need to follow Vultr\u0026rsquo;s instructions to enable CORS, so your Owncast player will have access to the video.\u003c/p\u003e\n\u003ch3 id=\"setup-s3cmd\"\u003eSetup s3cmd\u003c/h3\u003e\n\u003cp\u003eFollow \u003ca href=\"https://www.vultr.com/docs/how-to-use-s3cmd-with-vultr-object-storage\"\u003eVultr\u0026rsquo;s documentation on setting up s3cmd\u003c/a\u003e so you can configure your object storage bucket.\u003c/p\u003e\n\u003ch3 id=\"enable-cors-support\"\u003eEnable CORS support\u003c/h3\u003e\n\u003cp\u003eFollow \u003ca href=\"https://www.vultr.com/docs/how-to-apply-cors-policies-to-vultr-object-storage-buckets\"\u003eVultr\u0026rsquo;s documentation on applying CORS policies to your bucket\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"file-expiration\"\u003eFile expiration\u003c/h2\u003e\n\u003cp\u003eIt is recommended you turn on any kind of file expiration that Vultur offers so old files get deleted from your storage bucket automatically, otherwise you\u0026rsquo;ll have to manually go back and clean it up periodically so you don\u0026rsquo;t get billed for more storage used than required.\u003c/p\u003e\n"},{"title":"Linode Object Storage","date_published":"2020-11-17T20:11:42+01:00","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/linode/","url":"/docs/storage/linode/","content_html":"\u003cp\u003e250 GB storage + 1 TB Outbound Transfer for $5/mo.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.linode.com/pricing/?r=588ad4bf08ce8394e8eb11f0a463fde64637af9d/#row--storage\"\u003eLinode Object Storage\u003c/a\u003e is a good choice if you\u0026rsquo;re already using Linode to host your server. It should be fast to transfer your video from your server to their storage service, and their pricing will probably just be the flat $5/mo for you, so it\u0026rsquo;s easy to know what you\u0026rsquo;re paying.\n\n\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cfigure \u003e\n        \n            \u003cimg src=\"/docs/img/linodebucket.png\" width=\"100%\" loading=\"lazy\" /\u003e\n            \n        \n    \u003c/figure\u003e\n    \u003c/div\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate a new bucket at the \u003ca href=\"https://cloud.linode.com/object-storage/buckets\"\u003eLinode Object Storage\u003c/a\u003e admin page.\u003c/li\u003e\n\u003cli\u003eMake sure CORS is enabled on your new bucket.\u003c/li\u003e\n\u003cli\u003eIn the Owncast Addmin change the S3 \u003ccode\u003eendpoint\u003c/code\u003e to match the hostname listed below your newly created bucket that looks something like \u003ccode\u003eus-east-1.linodeobjects.com\u003c/code\u003e, the bucket name to match the one you just created and the S3 region to match the \u003ccode\u003eus-east-1\u003c/code\u003e equivalent of the above hostname.\u003c/li\u003e\n\u003cli\u003eUsing the \u003ca href=\"https://cloud.linode.com/object-storage/access-keys\"\u003eLinode Object Access Keys\u003c/a\u003e page create a new Access Key and add the Key and Secret in the admin.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn the following steps Linode requires you to interact with your bucket using the s3cmd tool. So install that on your terminal and configure it.\u003c/p\u003e\n\u003cp\u003eRun \u003ccode\u003es3cmd --configure\u003c/code\u003e and fill in the values with what is currently in your config file. It should look similar to this:\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"k\"\u003eAccess Key\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003eABC12334\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003eSecret Key\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003efj3kd83jdkh\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003eDefault Region\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003eUS\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003eS3 Endpoint\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003eus-east\u003cspan class=\"m\"\u003e-1.\u003c/span\u003elinodeobjects.com\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003eDNS-style bucket+hostname:port template for accessing a bucket\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003eus-east\u003cspan class=\"m\"\u003e-1.\u003c/span\u003elinodeobjects.com\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003eUse HTTPS protocol\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003eFalse\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/p\u003e\n\u003ch3 id=\"add-permissions-to-access-video\"\u003eAdd permissions to access video.\u003c/h3\u003e\n\u003cp\u003e\u003cem\u003eThis part sucks\u003c/em\u003e. But you only have to do it once per bucket. \u003ca href=\"https://www.linode.com/docs/platform/object-storage/how-to-use-object-storage-acls-and-bucket-policies/#bucket-policies\"\u003eThese are the full instructions\u003c/a\u003e but let me summarize.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eCreate a file called bucket_policy.json that has the following:\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-json\" data-lang=\"json\"\u003e   \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"nt\"\u003e\u0026#34;Statement\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"nt\"\u003e\u0026#34;Effect\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;Allow\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"nt\"\u003e\u0026#34;Principal\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"nt\"\u003e\u0026#34;AWS\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n   \u003cspan class=\"s2\"\u003e\u0026#34;*\u0026#34;\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n   \u003cspan class=\"nt\"\u003e\u0026#34;Action\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n   \u003cspan class=\"s2\"\u003e\u0026#34;s3:GetObject\u0026#34;\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n   \u003cspan class=\"nt\"\u003e\u0026#34;Resource\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n   \u003cspan class=\"s2\"\u003e\u0026#34;arn:aws:s3::MYBUCKETNAME/*\u0026#34;\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n   \u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eReplace \u003ccode\u003eMYBUCKETNAME\u003c/code\u003e with your actual bucket name.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRun \u003ccode\u003es3cmd setpolicy bucket_policy.json s3://MYBUCKETNAME\u003c/code\u003e replacing \u003ccode\u003eMYBUCKETNAME\u003c/code\u003e with your bucket name.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRun \u003ccode\u003es3cmd info s3://MYBUCKETNAME\u003c/code\u003e to make sure the new policy saved.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eNow files video saved to Linode Object Storage will be readable.\u003c/p\u003e\n\u003cp\u003eMore details about how to get started using Linode Object Storage can be found \u003ca href=\"https://www.linode.com/docs/platform/object-storage/how-to-use-object-storage/\"\u003eon their documentation\u003c/a\u003e.\u003c/p\u003e\n\u003ch3 id=\"file-expiration\"\u003eFile expiration\u003c/h3\u003e\n\u003cp\u003eMake files older than one day expire and delete themselves so you don\u0026rsquo;t pay for storage of old video.\u003c/p\u003e\n\u003cp\u003eFull details are in \u003ca href=\"https://www.linode.com/docs/platform/object-storage/how-to-manage-objects-with-lifecycle-policies/\"\u003etheir documentation\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eCreate a file called \u003ccode\u003elifecycle_policy.xml\u003c/code\u003e with the following contents:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"nt\"\u003e\u0026lt;LifecycleConfiguration\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;Rule\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;ID\u0026gt;\u003c/span\u003edelete-all-objects\u003cspan class=\"nt\"\u003e\u0026lt;/ID\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;Prefix\u0026gt;\u0026lt;/Prefix\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;Status\u0026gt;\u003c/span\u003eEnabled\u003cspan class=\"nt\"\u003e\u0026lt;/Status\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;Expiration\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;Days\u0026gt;\u003c/span\u003e1\u003cspan class=\"nt\"\u003e\u0026lt;/Days\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/Expiration\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/Rule\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/LifecycleConfiguration\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eRun \u003ccode\u003es3cmd setlifecycle lifecycle_policy.xml s3://MYBUCKETNAME\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eRun \u003ccode\u003es3cmd info s3://MYBUCKETNAME\u003c/code\u003e and you should now see \u003ccode\u003e Expiration Rule: all objects in this bucket will expire in '1' day(s) after creation\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n"},{"title":"Minio","date_published":"2020-11-17T20:11:42+01:00","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/minio/","url":"/docs/storage/minio/","content_html":"\u003cp\u003eIf you want to host the video segments on a self hosted S3 compatible \u003ca href=\"https://min.io/\"\u003eMinIO\u003c/a\u003e server, you get even more control over your data.\u003c/p\u003e\n\u003ch3 id=\"bucket\"\u003eBucket\u003c/h3\u003e\n\u003cp\u003eCreate a bucket, e.g. with the \u003ca href=\"https://docs.min.io/docs/minio-client-complete-guide.html\"\u003eMinIO client\u003c/a\u003e by\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eget the two strings \u003ccode\u003e[YOUR-ACCESS-KEY]\u003c/code\u003e and \u003ccode\u003e[YOUR-SECRET-KEY]\u003c/code\u003e from your MinIO deployment. (Sometimes they are referred to as ROOT USER and KEY)\u003c/li\u003e\n\u003cli\u003eadd an alias \u003ccode\u003emc alias set \u0026lt;ALIAS\u0026gt; \u0026lt;YOUR-S3-ENDPOINT\u0026gt; [YOUR-ACCESS-KEY] [YOUR-SECRET-KEY]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ecreate a new bucket \u003ccode\u003emc mb \u0026lt;ALIAS\u0026gt;/stream\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eallow downloading from bucket \u003ccode\u003emc policy set download \u0026lt;ALIAS\u0026gt;/stream\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"cors\"\u003eCORS\u003c/h3\u003e\n\u003cp\u003eMake sure to allow access to the buckets file from your owncast domain.\nYou require GET and OPTIONS methods.\u003c/p\u003e\n\u003ch3 id=\"owncast-config\"\u003eOwncast Config\u003c/h3\u003e\n\u003cp\u003eTo point your owncast instance to the MinIO storage, configure the \u003ccode\u003es3\u003c/code\u003e section as\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"chroma\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"k\"\u003es3\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"k\"\u003eenabled\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"k\"\u003eendpoint\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003ehttps\u003cspan class=\"p\"\u003e:\u003c/span\u003e//\u0026lt;s3-storage.your.org\u003cspan class=\"sd\"\u003e\u0026gt;\n\u003c/span\u003e\u003cspan class=\"sd\"\u003e  servingEndpoint: https://\u0026lt;s3-storage.your.org\u0026gt;/stream\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"k\"\u003eaccessKey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u0026lt;KEY\u003cspan class=\"sd\"\u003e\u0026gt;\n\u003c/span\u003e\u003cspan class=\"sd\"\u003e  secret: \u0026lt;SECRET\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"k\"\u003ebucket\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003estream\u003cspan class=\"w\"\u003e \n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"k\"\u003eregion\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003eanywhere\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe \u003ccode\u003eservingEndpoint\u003c/code\u003e is required as MinIO does not support subdomain based access out of the box.\u003c/p\u003e\n"},{"title":"Oracle Cloud Object Storage","date_published":"0001-01-01T00:00:00Z","date_modified":"2023-07-19T06:06:57Z","id":"/docs/storage/oracle/","url":"/docs/storage/oracle/","content_html":"\u003cp\u003eAWS S3 compatible Oracle Cloud Object Storage (\u003ca href=\"https://www.oracle.com/cloud/storage/object-storage/\"\u003ehttps://www.oracle.com/cloud/storage/object-storage/\u003c/a\u003e) is a great choice when you don\u0026rsquo;t want to invest cash, because it contains 10GB of storage in Always Free Tier (\u003ca href=\"https://www.oracle.com/cloud/free/#always-free)\"\u003ehttps://www.oracle.com/cloud/free/#always-free)\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"create-a-bucket\"\u003eCreate a Bucket\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eGo to \u003ca href=\"https://cloud.oracle.com/object-storage/buckets\"\u003ehttps://cloud.oracle.com/object-storage/buckets\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Create Bucket\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eGive name\u003c/li\u003e\n\u003cli\u003eLeave the other options default\u003c/li\u003e\n\u003cli\u003eAfter creating click on bucket name\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Edit visibility\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eChoose \u0026ldquo;Public\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Save changes\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eCopy \u0026amp; save \u0026ldquo;Namespace\u0026rdquo; (see: picture below)\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cfigure \u003e\n        \n            \u003cimg src=\"/docs/img/oracle-namespace.png\" width=\"100%\" loading=\"lazy\" /\u003e\n            \n        \n    \u003c/figure\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"create-an-expiration-policy\"\u003eCreate an expiration policy\u003c/h2\u003e\n\u003cp\u003eYou should expire old segments on your Bucket. \u003ca href=\"https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/usinglifecyclepolicies.htm\"\u003eHere are some additional details.\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOnce an object expires you won\u0026rsquo;t be charged for storage, even if the object isn\u0026rsquo;t deleted immediately.\u003c/li\u003e\n\u003cli\u003eA one day object expiration lifecycle rule on objects is as low as you can go, so use that.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eClick into your bucket and scroll down.\u003c/p\u003e\n\u003cp\u003eCreate a new lifecycle policy rule:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eClick \u0026ldquo;Lifecycle Policy Rules\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Create Rule\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eGive some name\u003c/li\u003e\n\u003cli\u003eSet \u0026ldquo;Lifecycle Action\u0026rdquo; to \u0026ldquo;Delete\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eSet \u0026ldquo;Number of Days\u0026rdquo; to 1\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Create\u0026rdquo;\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIt could fail, because of lack of Policy Statements.\u003c/p\u003e\n\u003cp\u003eIf failed, do this:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eGo to \u003ca href=\"https://cloud.oracle.com/identity/policies\"\u003ehttps://cloud.oracle.com/identity/policies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;PSM-root-policy\u0026rdquo; (or other, if you created specific IAM user)\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Edit Policy Statements\u0026rdquo;\u003c/li\u003e\n\u003cli\u003e3 x click \u0026ldquo;+ Another Statement\u0026rdquo; (bottom right)\u003c/li\u003e\n\u003cli\u003eAdd (default \u003ccode\u003e\u0026lt;GROUP_NAME\u0026gt;\u003c/code\u003e is \u0026ldquo;Administrators\u0026rdquo;):\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eAllow group \u0026lt;GROUP_NAME\u0026gt; to manage buckets in tenancy\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eAllow group \u0026lt;GROUP_NAME\u0026gt; to manage objects in tenancy\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eAllow service objectstorage-\u0026lt;REGION\u0026gt; to manage object-family in tenancy\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Save Changes\u0026rdquo;\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"collect-auth-data\"\u003eCollect auth data\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eClick you profile picture (top right corner)\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;User Settings\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eScroll down\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Customer Secret Keys\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Generate Secret Key\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eGive some name\u003c/li\u003e\n\u003cli\u003eCopy \u0026amp; save Secret Key generated in popup (it will show only once!)\u003c/li\u003e\n\u003cli\u003eClick \u0026ldquo;Close\u0026rdquo;\u003c/li\u003e\n\u003cli\u003eCopy \u0026amp; save \u0026ldquo;Access Key\u0026rdquo;\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"configure-owncast\"\u003eConfigure Owncast\u003c/h2\u003e\n\u003cp\u003eNavigate to the \u0026ldquo;Storage\u0026rdquo; tab.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEndpoint: \u003ccode\u003ehttps://\u0026lt;NAMESPACE\u0026gt;.compat.objectstorage.\u0026lt;REGION\u0026gt;.oraclecloud.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAccess Key: The key you created earlier\u003c/li\u003e\n\u003cli\u003eSecret Key: The secret key you created earlier\u003c/li\u003e\n\u003cli\u003eBucket: The short name of your Bucket you created\u003c/li\u003e\n\u003cli\u003eRegion: \u003ccode\u003e\u0026lt;REGION\u0026gt;\u003c/code\u003e (i.e \u0026ldquo;eu-frankfurt-1\u0026rdquo;)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOptional Settings (but in this case required):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eServing Endpoint: \u003ccode\u003ehttps://objectstorage.\u0026lt;REGION\u0026gt;.oraclecloud.com/n/\u0026lt;NAMESPACE\u0026gt;/b/\u0026lt;BUCKET_NAME\u0026gt;/o\u003c/code\u003e (!!! MUST NOT end with slash !!!)\u003c/li\u003e\n\u003cli\u003eForce path-style: ON\u003c/li\u003e\n\u003c/ul\u003e\n"}]}